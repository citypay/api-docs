
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>CityPay Payment API</title>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .c, .highlight .cd {
  color: #5e5d83;
  font-style: italic;
}
.highlight .cm {
  color: #5e5d83;
  font-style: italic;
}
.highlight .c1 {
  color: #5e5d83;
  font-style: italic;
}
.highlight .cp {
  color: #465457;
  font-weight: bold;
}
.highlight .cs {
  color: #465457;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #f8f8f2;
  background-color: #403d3d;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .ge {
  color: #1b1d1e;
  font-style: italic;
}
.highlight .gr {
  color: #f92672;
}
.highlight .gt {
  color: #f92672;
}
.highlight .gh {
  color: #403d3d;
}
.highlight .go {
  color: #403d3d;
}
.highlight .gp {
  color: #66d9ef;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #465457;
}
.highlight .k, .highlight .kv {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kc {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kd {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kp {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kr {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kt {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kn {
  color: #f92672;
  font-weight: bold;
}
.highlight .ow {
  color: #f92672;
  font-weight: bold;
}
.highlight .o {
  color: #f92672;
  font-weight: bold;
}
.highlight .mf {
  color: #af87ff;
}
.highlight .mh {
  color: #af87ff;
}
.highlight .il {
  color: #af87ff;
}
.highlight .mi {
  color: #af87ff;
}
.highlight .mo {
  color: #af87ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #af87ff;
}
.highlight .se {
  color: #af87ff;
}
.highlight .sb {
  color: #d7d787;
}
.highlight .sc {
  color: #d7d787;
}
.highlight .sd {
  color: #d7d787;
}
.highlight .s2 {
  color: #d7d787;
}
.highlight .sh {
  color: #d7d787;
}
.highlight .si {
  color: #d7d787;
}
.highlight .sx {
  color: #d7d787;
}
.highlight .sr {
  color: #d7d787;
}
.highlight .s1 {
  color: #d7d787;
}
.highlight .ss {
  color: #d7d787;
}
.highlight .s {
  color: #d7d787;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nd {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .ne {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nf {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .bp {
  color: #f8f8f2;
}
.highlight .nb {
  color: #f8f8f2;
}
.highlight .ni {
  color: #f8f8f2;
}
.highlight .nn {
  color: #f8f8f2;
}
.highlight .vc {
  color: #f8f8f2;
}
.highlight .vg {
  color: #f8f8f2;
}
.highlight .vi {
  color: #f8f8f2;
}
.highlight .nv {
  color: #f8f8f2;
}
.highlight .w {
  color: #f8f8f2;
}
.highlight .nl {
  color: #f8f8f2;
  font-weight: bold;
}
.highlight .nt {
  color: #f92672;
}
.highlight {
  color: #f8f8f2;
  background-color: #1b1d1e;
}
    </style>
    <link href="stylesheets/screen-784c86ab.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-1f0a7140.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;xml&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1cfc75b2.svg" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="xml">xml</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#citypay-payment-api" class="toc-h1 toc-link" data-title="CityPay Payment API">CityPay Payment API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#compliance-and-security" class="toc-h2 toc-link" data-title="Compliance and Security">Compliance and Security</a>
                  </li>
                  <li>
                    <a href="#base-urls" class="toc-h2 toc-link" data-title="Base URLs">Base URLs</a>
                  </li>
                  <li>
                    <a href="#contact-details" class="toc-h2 toc-link" data-title="Contact Details">Contact Details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-key" class="toc-h2 toc-link" data-title="API Key">API Key</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#paymentprocessing" class="toc-h1 toc-link" data-title="PaymentProcessing">PaymentProcessing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#capture-api" class="toc-h2 toc-link" data-title="Capture API">Capture API</a>
                  </li>
                  <li>
                    <a href="#void-api" class="toc-h2 toc-link" data-title="Void API">Void API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-model" class="toc-h1 toc-link" data-title="API Model">API Model</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#acknowledgement" class="toc-h2 toc-link" data-title="Acknowledgement">Acknowledgement</a>
                  </li>
                  <li>
                    <a href="#airlineadvice" class="toc-h2 toc-link" data-title="AirlineAdvice">AirlineAdvice</a>
                  </li>
                  <li>
                    <a href="#airlinesegment" class="toc-h2 toc-link" data-title="AirlineSegment">AirlineSegment</a>
                  </li>
                  <li>
                    <a href="#capturerequest" class="toc-h2 toc-link" data-title="CaptureRequest">CaptureRequest</a>
                  </li>
                  <li>
                    <a href="#voidrequest" class="toc-h2 toc-link" data-title="VoidRequest">VoidRequest</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-definitions" class="toc-h1 toc-link" data-title="API Definitions">API Definitions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#response-codes" class="toc-h2 toc-link" data-title="Response Codes">Response Codes</a>
                  </li>
                  <li>
                    <a href="#auth-result-codes" class="toc-h2 toc-link" data-title="Auth Result Codes">Auth Result Codes</a>
                  </li>
                  <li>
                    <a href="#avs-result-codes" class="toc-h2 toc-link" data-title="AVS Result Codes">AVS Result Codes</a>
                  </li>
                  <li>
                    <a href="#csc-result-codes" class="toc-h2 toc-link" data-title="CSC Result Codes">CSC Result Codes</a>
                  </li>
                  <li>
                    <a href="#enabled-tls-ciphers" class="toc-h2 toc-link" data-title="Enabled TLS Ciphers">Enabled TLS Ciphers</a>
                  </li>
                  <li>
                    <a href="#timeout-handling" class="toc-h2 toc-link" data-title="Timeout Handling">Timeout Handling</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='mailto:support@citypay.com'>Any Integration Questions?</a></li>
            <li>v6.0.0.BETA</li>
            <li>2020-03-31</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <img src="images/citypay-logo-23676e0b.svg" class="cplogo" alt="Citypay logo" />
        <h1 id='citypay-payment-api'>CityPay Payment API</h1>
<p>Version 6.0.0.BETA</p>

<p>This CityPay API is a HTTP RESTful payment API used for direct server to server transactional processing. It
provides a number of payment mechanisms including: Internet, MOTO, Continuous Authority transaction processing,
3-D Secure decision handling using RFA Secure, Authorisation, Refunding, Pre-Authorisation, Cancellation/Voids and
Completion processing. The API is also capable of tokinsed payments using Card Holder Accounts.</p>
<h2 id='compliance-and-security'>Compliance and Security</h2>
<aside class="notice">
  Before we begin a reminder that your application will need to adhere to PCI-DSS standards to operate safely
  and to meet requirements set out by Visa and MasterCard and the PCI Security Standards Council including:
</aside>

<ul>
<li>Data must be collected using TLS version 1.2 using <a href="#enabled-tls-ciphers">strong cryptography</a>. We will not accept calls to our API at
lower grade encryption levels. We regularly scan our TLS endpoints for vulnerabilities and perform TLS assessments
as part of our compliance program.</li>
<li>The application must not store sensitive card holder data (CHD) such as the card security code (CSC) or
primary access number (PAN)</li>
<li>The application must not display the full card number on receipts, it is recommended to mask the PAN
and show the last 4 digits. The API will return this for you for ease of receipt creation</li>
<li>If you are developing a website, you will be required to perform regular scans on the network where you host the
application to meet your compliance obligations</li>
<li>You will be required to be PCI Compliant and the application must adhere to the security standard. Further information
is available from <a href="https://www.pcisecuritystandards.org/">https://www.pcisecuritystandards.org/</a></li>
<li>The API verifies that the request is for a valid account and originates from a trusted source using the remote IP
address. Our application firewalls analyse data that may be an attempt to break a large number of security common
security vulnerabilities.</li>
</ul>
<h2 id='base-urls'>Base URLs</h2>
<table>
<tr><td> Production processing endpoint </td><td><code>https://api.citypay.com</code></td></tr> 
<tr><td> Testing service returning test results for all transactions </td><td><code>https://sandbox.citypay.com</code></td></tr> 

</table>
<h2 id='contact-details'>Contact Details</h2>
<p>Please contact CityPay Support</p>

<ul>
<li>Online at <a href="https://citypay.com/customer-centre/technical-support.html">https://citypay.com/customer-centre/technical-support.html</a></li>
<li>Email at <a href="mailto:support@citypay.com">support@citypay.com</a></li>
</ul>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>Example authentication header as used in curl</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">\</span><span class="w">
 </span><span class="err">-H</span><span class="w"> </span><span class="s2">"cp-api-key: UY26xWxKe3ZwK5RnF3FnVdTgWCtCenY2"</span><span class="w"> </span><span class="err">\</span><span class="w">
 </span><span class="err">-H</span><span class="w"> </span><span class="s2">"Accept: application/json"</span><span class="w"> </span><span class="err">\</span><span class="w">
 </span><span class="err">-H</span><span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="err">\</span><span class="w">
 </span><span class="err">--data</span><span class="w"> </span><span class="s2">"{ </span><span class="se">\"</span><span class="s2">merchantid</span><span class="se">\"</span><span class="s2">: 12345 ... }"</span><span class="w">
 </span><span class="err">https</span><span class="p">:</span><span class="err">//api.citypay.com/resource</span><span class="w">

</span></code></pre><pre class="highlight xml tab-xml"><code>curl -X POST \
 -H "cp-api-key: UY26xWxKe3ZwK5RnF3FnVdTgWCtCenY2" \
 -H "Accept: text/xml" \
 -H "Content-Type: text/xml" \
 --data "{ ..<span class="nt">&lt;merchantid&gt;</span>12345<span class="nt">&lt;/merchantid&gt;</span> }"
 https://api.citypay.com/resource

</code></pre><h3 id='api-key'>API Key</h3>
<p><strong>CityPay API Authentication</strong></p>

<p>header <code>cp-api-key</code></p>

<p>The <code>cp-api-key</code> authentication header is required for all payment processing access.
 All calls using this key will be validated against white list IP addressing based
 and calls are scrutinised by the CityPay application firewall for security protection
 and attack mitigation. The key should remain secret and may allow processing against multiple
 merchant accounts that belong to your client account.</p>

<p>A header key is used to protect undue logging mechanisms from logging data packet values and
 logically seperates authentication concerns from the body of data.</p>

<aside class="notice">
If you do not have an API key please quote your Client ID and Merchant ID to <a href="https://citypay.com/customer-centre/technical-support.html">CityPay Support</a> to obtain one.
</aside>
<h1 id='paymentprocessing'>PaymentProcessing</h1><h2 id='capture-api'>Capture API</h2>
<blockquote>
<p>Basic capture call for a merchant with a given identifier</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"CaptureRequest"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"identifier"</span><span class="p">:</span><span class="s2">"318f2bc5-d9e0-4ddf-9df1-1ea9e4890ca9"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;CaptureRequest&gt;</span>
   <span class="nt">&lt;CaptureRequest&gt;</span>
      <span class="nt">&lt;merchantid&gt;</span>123456<span class="nt">&lt;/merchantid&gt;</span>
      <span class="nt">&lt;identifier&gt;</span>318f2bc5-d9e0-4ddf-9df1-1ea9e4890ca9<span class="nt">&lt;/identifier&gt;</span>
   <span class="nt">&lt;/CaptureRequest&gt;</span>
<span class="nt">&lt;/CaptureRequest&gt;</span>
</code></pre>
<blockquote>
<p>Basic capture call for a merchant with a transno and final amount</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"CaptureRequest"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transno"</span><span class="p">:</span><span class="mi">11275</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">6795</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;CaptureRequest&gt;</span>
   <span class="nt">&lt;CaptureRequest&gt;</span>
      <span class="nt">&lt;merchantid&gt;</span>123456<span class="nt">&lt;/merchantid&gt;</span>
      <span class="nt">&lt;transno&gt;</span>11275<span class="nt">&lt;/transno&gt;</span>
      <span class="nt">&lt;amount&gt;</span>6795<span class="nt">&lt;/amount&gt;</span>
   <span class="nt">&lt;/CaptureRequest&gt;</span>
<span class="nt">&lt;/CaptureRequest&gt;</span>
</code></pre>
<blockquote>
<p>Capture call for a merchant with identifier and airline data once a ticket has been issued</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"CaptureRequest"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"identifier"</span><span class="p">:</span><span class="s2">"318f2bc5-d9e0-4ddf-9df1-1ea9e4890ca9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"airline-data"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"carrier-name"</span><span class="p">:</span><span class="s2">"Acme Air"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transaction-type"</span><span class="p">:</span><span class="s2">"TKT"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ticketno"</span><span class="p">:</span><span class="s2">"114477822"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"segment1"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"flight-number"</span><span class="p">:</span><span class="s2">"724"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"carrier-code"</span><span class="p">:</span><span class="s2">"ZZ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"arrival-location-code"</span><span class="p">:</span><span class="s2">"LGW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"departure-date"</span><span class="p">:</span><span class="s2">"2020-01-23"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;CaptureRequest&gt;</span>
   <span class="nt">&lt;CaptureRequest&gt;</span>
      <span class="nt">&lt;merchantid&gt;</span>123456<span class="nt">&lt;/merchantid&gt;</span>
      <span class="nt">&lt;identifier&gt;</span>318f2bc5-d9e0-4ddf-9df1-1ea9e4890ca9<span class="nt">&lt;/identifier&gt;</span>
      <span class="nt">&lt;airline-data&gt;</span>
         <span class="nt">&lt;carrier-name&gt;</span>Acme Air<span class="nt">&lt;/carrier-name&gt;</span>
         <span class="nt">&lt;transaction-type&gt;</span>TKT<span class="nt">&lt;/transaction-type&gt;</span>
         <span class="nt">&lt;ticketno&gt;</span>114477822<span class="nt">&lt;/ticketno&gt;</span>
         <span class="nt">&lt;segment1&gt;</span>
            <span class="nt">&lt;flight-number&gt;</span>724<span class="nt">&lt;/flight-number&gt;</span>
            <span class="nt">&lt;carrier-code&gt;</span>ZZ<span class="nt">&lt;/carrier-code&gt;</span>
            <span class="nt">&lt;arrival-location-code&gt;</span>LGW<span class="nt">&lt;/arrival-location-code&gt;</span>
            <span class="nt">&lt;departure-date&gt;</span>2020-01-23<span class="nt">&lt;/departure-date&gt;</span>
         <span class="nt">&lt;/segment1&gt;</span>
      <span class="nt">&lt;/airline-data&gt;</span>
   <span class="nt">&lt;/CaptureRequest&gt;</span>
<span class="nt">&lt;/CaptureRequest&gt;</span>
</code></pre>
<p><code>HTTP POST /capture</code></p>

<p><em>The capture process only applies to transactions which have been pre-authorised only.</em> </p>

<p>The capture process will ensure
that a transaction will now settle. It is expected that a capture call will be provided within 3 days or
a maximum of 7 days.</p>

<p>A capture request is provided to confirm that you wish the transaction to be settled. This request can
contain a final amount for the transaction which is different to the original authorisation amount. This
may be useful in a delayed system process such as waiting for stock to be ordered, confirmed, or services
provided before the final cost is known.</p>

<p>When a transaction is completed, a new authorisation code may be created and a new confirmation
can be sent online to the acquiring bank.</p>

<p>Once the transaction has been processed. A standard <a href="#acknowledgement"><code>Acknowledgement</code></a> will be returned,
outlining the result of the transaction. On a successful completion process, the transaction will
be available for the settlement and completed at the end of the day.</p>
<h3 id='model-capturerequest'>Model CaptureRequest</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>airline-data</code></td>
<td>object</td>
<td>false</td>
<td><a href="#airlineadvice">AirlineAdvice</a></td>
</tr>
<tr>
<td><code>amount</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>The completion amount provided in the lowest unit of currency for the specific currency of the merchant,<br/>with a variable length to a maximum of 12 digits. No decimal points to be included. For example with<br/>GBP 75.45 use the value 7545. Please check that you do not supply divisional characters such as 1,024 in the<br/>request which may be caused by some number formatters.<br/>If no amount is supplied, the original processing amount is used.<br/><br/>minLength: 1<br/>maxLength: 12</td>
</tr>
<tr>
<td><code>identifier</code></td>
<td>string</td>
<td>false</td>
<td>The identifier of the transaction to capture. If an empty value is supplied then a <code>trans_no</code> value must be supplied.<br/>minLength: 4<br/>maxLength: 50</td>
</tr>
<tr>
<td><code>merchantid</code></td>
<td>integer <em>int32</em></td>
<td>true</td>
<td>Identifies the merchant account to perform the capture for.</td>
</tr>
<tr>
<td><code>transno</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>The transaction number of the transaction to look up and capture. If an empty value is supplied then an identifier value must be supplied.</td>
</tr>
</tbody></table>
<h2 id='void-api'>Void API</h2>
<blockquote>
<p>Basic capture call for a merchant with a given identifier</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"VoidRequest"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"identifier"</span><span class="p">:</span><span class="s2">"318f2bc5-d9e0-4ddf-9df1-1ea9e4890ca9"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;VoidRequest&gt;</span>
   <span class="nt">&lt;VoidRequest&gt;</span>
      <span class="nt">&lt;merchantid&gt;</span>123456<span class="nt">&lt;/merchantid&gt;</span>
      <span class="nt">&lt;identifier&gt;</span>318f2bc5-d9e0-4ddf-9df1-1ea9e4890ca9<span class="nt">&lt;/identifier&gt;</span>
   <span class="nt">&lt;/VoidRequest&gt;</span>
<span class="nt">&lt;/VoidRequest&gt;</span>
</code></pre>
<blockquote>
<p>Basic capture call for a merchant with a transno and final amount</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"VoidRequest"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transno"</span><span class="p">:</span><span class="mi">11275</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="mi">6795</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;VoidRequest&gt;</span>
   <span class="nt">&lt;VoidRequest&gt;</span>
      <span class="nt">&lt;merchantid&gt;</span>123456<span class="nt">&lt;/merchantid&gt;</span>
      <span class="nt">&lt;transno&gt;</span>11275<span class="nt">&lt;/transno&gt;</span>
      <span class="nt">&lt;amount&gt;</span>6795<span class="nt">&lt;/amount&gt;</span>
   <span class="nt">&lt;/VoidRequest&gt;</span>
<span class="nt">&lt;/VoidRequest&gt;</span>
</code></pre>
<p><code>HTTP POST /void</code></p>

<p><em>The void process generally applies to transactions which have been pre-authorised only however voids can occur 
on the same day if performed before batching and settlement.</em> </p>

<p>The void process will ensure that a transaction will now settle. It is expected that a void call will be 
provided on the same day before batching and settlement or within 3 days or within a maximum of 7 days.</p>

<p>Once the transaction has been processed as a void, an <a href="#acknowledgement"><code>Acknowledgement</code></a> will be returned,
outlining the result of the transaction.</p>
<h3 id='model-voidrequest'>Model VoidRequest</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>identifier</code></td>
<td>string</td>
<td>false</td>
<td>The identifier of the transaction to void. If an empty value is supplied then a <code>trans_no</code> value must be supplied.<br/>minLength: 4<br/>maxLength: 50</td>
</tr>
<tr>
<td><code>merchantid</code></td>
<td>integer <em>int32</em></td>
<td>true</td>
<td>Identifies the merchant account to perform the void for.</td>
</tr>
<tr>
<td><code>transno</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>The transaction number of the transaction to look up and void. If an empty value is supplied then an identifier value must be supplied.</td>
</tr>
</tbody></table>
<h1 id='api-model'>API Model</h1><h2 id='acknowledgement'>Acknowledgement</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aspiu352908ns47n343598bads"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Approved 044332"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;Acknowledgement&gt;</span>
 <span class="nt">&lt;code&gt;</span>0<span class="nt">&lt;/code&gt;</span> 
 <span class="nt">&lt;context&gt;</span>aspiu352908ns47n343598bads<span class="nt">&lt;/context&gt;</span> 
 <span class="nt">&lt;message&gt;</span>Approved 044332<span class="nt">&lt;/message&gt;</span> 
<span class="nt">&lt;/Acknowledgement&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td>string</td>
<td>false</td>
<td>A response code providing a result of the process.<br/>minLength: 3<br/>maxLength: 4</td>
</tr>
<tr>
<td><code>context</code></td>
<td>string</td>
<td>false</td>
<td>A context id of the process used for referencing transactions through support.</td>
</tr>
<tr>
<td><code>message</code></td>
<td>string</td>
<td>false</td>
<td>A response message providing a description of the result of the process.</td>
</tr>
</tbody></table>
<h2 id='airlineadvice'>AirlineAdvice</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"carrier-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EXample Air"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"conjunction-ticket-indicator"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
   </span><span class="s2">"eticket-indicator"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"no-air-segments"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="s2">"number-in-party"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
   </span><span class="s2">"original-ticket-no"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="s2">"passenger-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NE Person"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"segment1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
   </span><span class="s2">"segment2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
   </span><span class="s2">"segment3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
   </span><span class="s2">"segment4"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
   </span><span class="s2">"ticket-issue-city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ticket-issue-date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-01"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ticket-issue-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Issue Name"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"ticketno"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A112233"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"transaction-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TKT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;AirlineAdvice&gt;</span>
 <span class="nt">&lt;carrier-name&gt;</span>EXample Air<span class="nt">&lt;/carrier-name&gt;</span> 
 <span class="nt">&lt;conjunction-ticket-indicator&gt;</span>false<span class="nt">&lt;/conjunction-ticket-indicator&gt;</span> 
 <span class="nt">&lt;eticket-indicator&gt;</span>true<span class="nt">&lt;/eticket-indicator&gt;</span> 
 <span class="nt">&lt;no-air-segments&gt;</span>2<span class="nt">&lt;/no-air-segments&gt;</span> 
 <span class="nt">&lt;number-in-party&gt;</span>2<span class="nt">&lt;/number-in-party&gt;</span> 
 <span class="nt">&lt;original-ticket-no&gt;&lt;/original-ticket-no&gt;</span> 
 <span class="nt">&lt;passenger-name&gt;</span>NE Person<span class="nt">&lt;/passenger-name&gt;</span> 
 <span class="nt">&lt;segment1&gt;</span><span class="err">&lt;</span>&gt;...<span class="err">&lt;</span>/&gt;<span class="nt">&lt;/segment1&gt;</span> 
 <span class="nt">&lt;segment2&gt;</span><span class="err">&lt;</span>&gt;...<span class="err">&lt;</span>/&gt;<span class="nt">&lt;/segment2&gt;</span> 
 <span class="nt">&lt;segment3&gt;</span><span class="err">&lt;</span>&gt;...<span class="err">&lt;</span>/&gt;<span class="nt">&lt;/segment3&gt;</span> 
 <span class="nt">&lt;segment4&gt;</span><span class="err">&lt;</span>&gt;...<span class="err">&lt;</span>/&gt;<span class="nt">&lt;/segment4&gt;</span> 
 <span class="nt">&lt;ticket-issue-city&gt;</span>London<span class="nt">&lt;/ticket-issue-city&gt;</span> 
 <span class="nt">&lt;ticket-issue-date&gt;</span>2020-08-01<span class="nt">&lt;/ticket-issue-date&gt;</span> 
 <span class="nt">&lt;ticket-issue-name&gt;</span>Issue Name<span class="nt">&lt;/ticket-issue-name&gt;</span> 
 <span class="nt">&lt;ticketno&gt;</span>A112233<span class="nt">&lt;/ticketno&gt;</span> 
 <span class="nt">&lt;transaction-type&gt;</span>TKT<span class="nt">&lt;/transaction-type&gt;</span> 
<span class="nt">&lt;/AirlineAdvice&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>carrier-name</code></td>
<td>string</td>
<td>true</td>
<td>The name of the airline carrier that generated the tickets for airline travel.<br/>maxLength: 25</td>
</tr>
<tr>
<td><code>conjunction-ticket-indicator</code></td>
<td>boolean</td>
<td>false</td>
<td>true if a conjunction ticket (with additional coupons) was issued for an itinerary<br/>with more than four segments. Defaults to false.</td>
</tr>
<tr>
<td><code>eticket-indicator</code></td>
<td>boolean</td>
<td>false</td>
<td>The Electronic Ticket Indicator, a code that indicates if an electronic ticket was issued.  Defaults to true.</td>
</tr>
<tr>
<td><code>no-air-segments</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>A value that indicates the number of air travel segments included on this ticket.<br/>Valid entries include the numerals “0” through “4”. Required only if the transaction type is TKT or EXC.<br/><br/>minimum: 0<br/>maximum: 4</td>
</tr>
<tr>
<td><code>number-in-party</code></td>
<td>integer <em>int32</em></td>
<td>true</td>
<td>The number of people in the party.</td>
</tr>
<tr>
<td><code>original-ticket-no</code></td>
<td>string</td>
<td>false</td>
<td>Required if transaction type is EXC.<br/>maxLength: 14</td>
</tr>
<tr>
<td><code>passenger-name</code></td>
<td>string</td>
<td>false</td>
<td>The name of the passenger when the traveller is not the card member that purchased the ticket. Required only if the transaction type is TKT or EXC.<br/>maxLength: 25</td>
</tr>
<tr>
<td><code>segment1</code></td>
<td>object</td>
<td>true</td>
<td><a href="#airlinesegment">AirlineSegment</a></td>
</tr>
<tr>
<td><code>segment2</code></td>
<td>object</td>
<td>false</td>
<td><a href="#airlinesegment">AirlineSegment</a></td>
</tr>
<tr>
<td><code>segment3</code></td>
<td>object</td>
<td>false</td>
<td><a href="#airlinesegment">AirlineSegment</a></td>
</tr>
<tr>
<td><code>segment4</code></td>
<td>object</td>
<td>false</td>
<td><a href="#airlinesegment">AirlineSegment</a></td>
</tr>
<tr>
<td><code>ticket-issue-city</code></td>
<td>string</td>
<td>true</td>
<td>The name of the city town or village where the transaction took place.<br/>maxLength: 18</td>
</tr>
<tr>
<td><code>ticket-issue-date</code></td>
<td>string <em>date</em></td>
<td>true</td>
<td>The date the ticket was issued in ISO Date format (yyyy-MM-dd).<br/>maxLength: 10</td>
</tr>
<tr>
<td><code>ticket-issue-name</code></td>
<td>string</td>
<td>true</td>
<td>The name of the agency generating the ticket.<br/>maxLength: 26</td>
</tr>
<tr>
<td><code>ticketno</code></td>
<td>string</td>
<td>true</td>
<td>This must be a valid ticket number, i.e. numeric (the first 3 digits must represent the valid IATA plate carrier code).<br/>The final check digit should be validated prior to submission. On credit charges, this field should contain the<br/>number of the original ticket, and not of a replacement.<br/><br/>maxLength: 14</td>
</tr>
<tr>
<td><code>transaction-type</code></td>
<td>string</td>
<td>true</td>
<td>This field contains the Transaction Type code assigned to this transaction. Valid codes include:<br/><br/> - <code>TKT</code> = Ticket Purchase<br/> - <code>REF</code> = Refund<br/> - <code>EXC</code> = Exchange Ticket<br/> - <code>MSC</code> = Miscellaneous (non-Ticket Purchase- and non-Exchange Ticket-related transactions only).<br/><br/>minLength: 3<br/>maxLength: 3</td>
</tr>
</tbody></table>
<h2 id='airlinesegment'>AirlineSegment</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"arrival-location-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SOU"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"carrier-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZZ"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"class-service-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CC"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"departure-date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-01"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"departure-location-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JER"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"flight-number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"772"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"segment-fare"</span><span class="p">:</span><span class="w"> </span><span class="mi">7500</span><span class="p">,</span><span class="w">
   </span><span class="s2">"stop-over-indicator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;AirlineSegment&gt;</span>
 <span class="nt">&lt;arrival-location-code&gt;</span>SOU<span class="nt">&lt;/arrival-location-code&gt;</span> 
 <span class="nt">&lt;carrier-code&gt;</span>ZZ<span class="nt">&lt;/carrier-code&gt;</span> 
 <span class="nt">&lt;class-service-code&gt;</span>CC<span class="nt">&lt;/class-service-code&gt;</span> 
 <span class="nt">&lt;departure-date&gt;</span>2020-08-01<span class="nt">&lt;/departure-date&gt;</span> 
 <span class="nt">&lt;departure-location-code&gt;</span>JER<span class="nt">&lt;/departure-location-code&gt;</span> 
 <span class="nt">&lt;flight-number&gt;</span>772<span class="nt">&lt;/flight-number&gt;</span> 
 <span class="nt">&lt;segment-fare&gt;</span>7500<span class="nt">&lt;/segment-fare&gt;</span> 
 <span class="nt">&lt;stop-over-indicator&gt;</span>1<span class="nt">&lt;/stop-over-indicator&gt;</span> 
<span class="nt">&lt;/AirlineSegment&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>arrival-location-code</code></td>
<td>string</td>
<td>true</td>
<td>A standard airline routing code (airport code or location identifier) applicable to the<br/>arrival portion of this segment.<br/><br/>maxLength: 3</td>
</tr>
<tr>
<td><code>carrier-code</code></td>
<td>string</td>
<td>true</td>
<td>This field contains the two character airline designator code (air carrier code or airline code) that<br/>corresponds to the airline carrier applicable for up to four flight segments of this trip itinerary.<br/><br/>maxLength: 2</td>
</tr>
<tr>
<td><code>class-service-code</code></td>
<td>string</td>
<td>true</td>
<td>This field contains a code that corresponds to the fare class (A, B, C, D, Premium, Discounted, etc.)<br/>within the overall class of service (e.g., First Class, Business, Economy) applicable to this travel segment,<br/>as specified in the IATA Standard Code allocation table.<br/><br/>maxLength: 2</td>
</tr>
<tr>
<td><code>departure-date</code></td>
<td>string <em>date</em></td>
<td>true</td>
<td>The Departure Date for the travel segment in ISO Date Format (yyyy-MM-dd).</td>
</tr>
<tr>
<td><code>departure-location-code</code></td>
<td>string</td>
<td>false</td>
<td>A standard airline routing code (airport code or location identifier) applicable to the<br/>departure portion of this segment.<br/><br/>maxLength: 3</td>
</tr>
<tr>
<td><code>flight-number</code></td>
<td>string</td>
<td>true</td>
<td>This field contains the carrier-assigned Flight Number for this travel segment.<br/>maxLength: 4</td>
</tr>
<tr>
<td><code>segment-fare</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>This field contains the total Fare for this travel segment.</td>
</tr>
<tr>
<td><code>stop-over-indicator</code></td>
<td>string</td>
<td>false</td>
<td>O = Stopover allowed, X = Stopover not allowed.<br/>maxLength: 1</td>
</tr>
</tbody></table>
<h2 id='capturerequest'>CaptureRequest</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"airline-data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
   </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
   </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95b857a1-5955-4b86-963c-5a6dbfc4fb95"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="w"> </span><span class="mi">11223344</span><span class="p">,</span><span class="w">
   </span><span class="s2">"transno"</span><span class="p">:</span><span class="w"> </span><span class="mi">78416</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;CaptureRequest&gt;</span>
 <span class="nt">&lt;airline-data&gt;</span><span class="err">&lt;</span>&gt;...<span class="err">&lt;</span>/&gt;<span class="nt">&lt;/airline-data&gt;</span> 
 <span class="nt">&lt;amount&gt;</span>3600<span class="nt">&lt;/amount&gt;</span> 
 <span class="nt">&lt;identifier&gt;</span>95b857a1-5955-4b86-963c-5a6dbfc4fb95<span class="nt">&lt;/identifier&gt;</span> 
 <span class="nt">&lt;merchantid&gt;</span>11223344<span class="nt">&lt;/merchantid&gt;</span> 
 <span class="nt">&lt;transno&gt;</span>78416<span class="nt">&lt;/transno&gt;</span> 
<span class="nt">&lt;/CaptureRequest&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>airline-data</code></td>
<td>object</td>
<td>false</td>
<td><a href="#airlineadvice">AirlineAdvice</a></td>
</tr>
<tr>
<td><code>amount</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>The completion amount provided in the lowest unit of currency for the specific currency of the merchant,<br/>with a variable length to a maximum of 12 digits. No decimal points to be included. For example with<br/>GBP 75.45 use the value 7545. Please check that you do not supply divisional characters such as 1,024 in the<br/>request which may be caused by some number formatters.<br/>If no amount is supplied, the original processing amount is used.<br/><br/>minLength: 1<br/>maxLength: 12</td>
</tr>
<tr>
<td><code>identifier</code></td>
<td>string</td>
<td>false</td>
<td>The identifier of the transaction to capture. If an empty value is supplied then a <code>trans_no</code> value must be supplied.<br/>minLength: 4<br/>maxLength: 50</td>
</tr>
<tr>
<td><code>merchantid</code></td>
<td>integer <em>int32</em></td>
<td>true</td>
<td>Identifies the merchant account to perform the capture for.</td>
</tr>
<tr>
<td><code>transno</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>The transaction number of the transaction to look up and capture. If an empty value is supplied then an identifier value must be supplied.</td>
</tr>
</tbody></table>
<h2 id='voidrequest'>VoidRequest</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95b857a1-5955-4b86-963c-5a6dbfc4fb95"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"merchantid"</span><span class="p">:</span><span class="w"> </span><span class="mi">11223344</span><span class="p">,</span><span class="w">
   </span><span class="s2">"transno"</span><span class="p">:</span><span class="w"> </span><span class="mi">78416</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight xml tab-xml"><code><span class="nt">&lt;VoidRequest&gt;</span>
 <span class="nt">&lt;identifier&gt;</span>95b857a1-5955-4b86-963c-5a6dbfc4fb95<span class="nt">&lt;/identifier&gt;</span> 
 <span class="nt">&lt;merchantid&gt;</span>11223344<span class="nt">&lt;/merchantid&gt;</span> 
 <span class="nt">&lt;transno&gt;</span>78416<span class="nt">&lt;/transno&gt;</span> 
<span class="nt">&lt;/VoidRequest&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>identifier</code></td>
<td>string</td>
<td>false</td>
<td>The identifier of the transaction to void. If an empty value is supplied then a <code>trans_no</code> value must be supplied.<br/>minLength: 4<br/>maxLength: 50</td>
</tr>
<tr>
<td><code>merchantid</code></td>
<td>integer <em>int32</em></td>
<td>true</td>
<td>Identifies the merchant account to perform the void for.</td>
</tr>
<tr>
<td><code>transno</code></td>
<td>integer <em>int32</em></td>
<td>false</td>
<td>The transaction number of the transaction to look up and void. If an empty value is supplied then an identifier value must be supplied.</td>
</tr>
</tbody></table>
<h1 id='api-definitions'>API Definitions</h1><h2 id='response-codes'>Response Codes</h2>
<p>The CityPay Payment API uses the following response codes in its response messages:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>000</code></td>
<td>Accepted Transaction</td>
<td>The transaction was accepted.</td>
</tr>
<tr>
<td><code>001</code></td>
<td>Test Transaction</td>
<td>The transaction was marked as being a test transaction and was successfully returned.</td>
</tr>
<tr>
<td><code>002</code></td>
<td>Accepted Refund</td>
<td>The refund was successful</td>
</tr>
<tr>
<td><code>003</code></td>
<td>Accepted Void Transaction</td>
<td>The transaction was successfully voided</td>
</tr>
<tr>
<td><code>011</code></td>
<td>Signature Verification</td>
<td></td>
</tr>
<tr>
<td><code>012</code></td>
<td>Hold</td>
<td></td>
</tr>
<tr>
<td><code>013</code></td>
<td>Pin Invalid</td>
<td></td>
</tr>
<tr>
<td><code>014</code></td>
<td>Pin Retry</td>
<td></td>
</tr>
<tr>
<td><code>015</code></td>
<td>Pin Tries Exceeded</td>
<td></td>
</tr>
<tr>
<td><code>030</code></td>
<td>Cannot Authorise</td>
<td>Invalid Card Number</td>
</tr>
<tr>
<td><code>031</code></td>
<td>Cannot Authorise</td>
<td>Expired Card</td>
</tr>
<tr>
<td><code>032</code></td>
<td>Processing Server Unavailable</td>
<td>A delegating processing server was unavailable and failover servers were retried, processing cannot continue</td>
</tr>
<tr>
<td><code>040</code></td>
<td>Transaction verification passed</td>
<td>The transaction returned was verified succesfully</td>
</tr>
<tr>
<td><code>041</code></td>
<td>Transaction verification failed</td>
<td>The transaction returned has failed to be verified</td>
</tr>
<tr>
<td><code>050</code></td>
<td>Waiting Authorisation</td>
<td></td>
</tr>
<tr>
<td><code>071</code></td>
<td>Transaction already voided</td>
<td>The transaction was previously voided</td>
</tr>
<tr>
<td><code>072</code></td>
<td>Transaction already refunded</td>
<td>The transaction was previously refunded to the full amount</td>
</tr>
<tr>
<td><code>080</code></td>
<td>Transaction cancelled</td>
<td>The transaction was cancelled</td>
</tr>
<tr>
<td><code>081</code></td>
<td>Transaction timed out</td>
<td>The transaction timed out while processing</td>
</tr>
<tr>
<td><code>082</code></td>
<td>Terminal allocation timed out</td>
<td>The transaction timed out while allocating a terminal id</td>
</tr>
<tr>
<td><code>083</code></td>
<td>Transaction timed out</td>
<td>The transaction timed out while connecting to the acquirer</td>
</tr>
<tr>
<td><code>084</code></td>
<td>Transaction timed out</td>
<td>The transaction timed out while awaiting a response from the acquirer</td>
</tr>
<tr>
<td><code>085</code></td>
<td>Concurrency Limit Reached</td>
<td>The transaction could not be processed as the concurrency levels have been met</td>
</tr>
<tr>
<td><code>087</code></td>
<td>Revocation of Order</td>
<td>The transaction has been revoked by the card holder, and must not retry with the same card details. Alternative payment details should be provided</td>
</tr>
<tr>
<td><code>088</code></td>
<td>Retain Card</td>
<td></td>
</tr>
<tr>
<td><code>089</code></td>
<td>Referred</td>
<td></td>
</tr>
<tr>
<td><code>090</code></td>
<td>Declined Transaction</td>
<td>The transaction was declined by the card issuer.</td>
</tr>
<tr>
<td><code>091</code></td>
<td>Declined Transaction</td>
<td>The transaction was declined due to the card failing the fraud check</td>
</tr>
<tr>
<td><code>092</code></td>
<td>Declined Refund</td>
<td>The refund was declined</td>
</tr>
<tr>
<td><code>093</code></td>
<td>Declined Void Transaction</td>
<td>The void transaction was declined</td>
</tr>
<tr>
<td><code>094</code></td>
<td>Declined Transaction</td>
<td>Transaction Declined. CSC Failure</td>
</tr>
<tr>
<td><code>095</code></td>
<td>Declined Transaction</td>
<td>Transaction Declined. AVS Failure</td>
</tr>
<tr>
<td><code>096</code></td>
<td>Declined Transaction</td>
<td>Transaction Declined. AVS Failure</td>
</tr>
<tr>
<td><code>097</code></td>
<td>Declined Transaction</td>
<td>Transaction Declined. AVS Failure</td>
</tr>
<tr>
<td><code>098</code></td>
<td>Declined Transaction</td>
<td>Transaction Declined. Authentication Failure</td>
</tr>
<tr>
<td><code>C001</code></td>
<td>Card number contains non-numeric character</td>
<td></td>
</tr>
<tr>
<td><code>C002</code></td>
<td>LUHN Check failure</td>
<td>Consider the possibility that the card number was keyed incorrectly</td>
</tr>
<tr>
<td><code>C003</code></td>
<td>Card number missing</td>
<td></td>
</tr>
<tr>
<td><code>C004</code></td>
<td>Card number is an invalid length</td>
<td></td>
</tr>
<tr>
<td><code>C005</code></td>
<td>Card is not yet valid</td>
<td>The start date is in the future.</td>
</tr>
<tr>
<td><code>C006</code></td>
<td>Card has expired</td>
<td>The expiry date is in the past.</td>
</tr>
<tr>
<td><code>C007</code></td>
<td>Card expiry month is not a valid month</td>
<td>Months should be an integer value between 1 and 12</td>
</tr>
<tr>
<td><code>C008</code></td>
<td>Card expiry year is not a valid year</td>
<td>Year values should be either a 2 digit or 4 digit number</td>
</tr>
<tr>
<td><code>C009</code></td>
<td>Expiry date is not YYMM</td>
<td>When providing an expiry date as a String the format should be 2 digit YEAR and 2 digit MONTH (YYMM) for example 0412</td>
</tr>
<tr>
<td><code>C010</code></td>
<td>Expiry data missing</td>
<td></td>
</tr>
<tr>
<td><code>C011</code></td>
<td>Issue number is not numeric</td>
<td></td>
</tr>
<tr>
<td><code>C012</code></td>
<td>CSC Not an Integer</td>
<td></td>
</tr>
<tr>
<td><code>C013</code></td>
<td>CSC is longer than 4 characters</td>
<td></td>
</tr>
<tr>
<td><code>C014</code></td>
<td>CSC Not Present</td>
<td></td>
</tr>
<tr>
<td><code>C015</code></td>
<td>Start date is not YYMM</td>
<td>When providing an expiry date as a String the format should be 2 digit YEAR and 2 digit MONTH (YYMM) for example 0412</td>
</tr>
<tr>
<td><code>C016</code></td>
<td>Card start date month is not a valid month</td>
<td>Months should be an integer value between 1 and 12</td>
</tr>
<tr>
<td><code>C017</code></td>
<td>Card start date year is not a valid year</td>
<td>Year values should be either a 2 digit or 4 digit number</td>
</tr>
<tr>
<td><code>C018</code></td>
<td>Card has previously been charged back</td>
<td></td>
</tr>
<tr>
<td><code>C019</code></td>
<td>Invalid expiry date</td>
<td>The expiry date is so far in the future that it is considered invalid. By default, this error is logged for expiry dates more than 7 years in the future; this offset may be changed by contacting support.</td>
</tr>
<tr>
<td><code>C020</code></td>
<td>Invalid Start Date</td>
<td>The card start date contains an invalid date, invalid characters or has not been entered when required.</td>
</tr>
<tr>
<td><code>C021</code></td>
<td>Card number is invalid</td>
<td>The card number is not a valid number</td>
</tr>
<tr>
<td><code>C022</code></td>
<td>Bin range not found</td>
<td>The card number provided cannot be used for this transaction</td>
</tr>
<tr>
<td><code>C023</code></td>
<td>Unexpected Issue Number</td>
<td>An unexpected issue number is present in the card details</td>
</tr>
<tr>
<td><code>C024</code></td>
<td>Expected Issue Number</td>
<td>An expected issue number is not present in the card details</td>
</tr>
<tr>
<td><code>C025</code></td>
<td>Invalid Issue Number</td>
<td>An invalid issue number is present in the card details</td>
</tr>
<tr>
<td><code>C026</code></td>
<td>CSC Length is invalid for Card</td>
<td>The length of the card security code (CSC,CV2,CVV2) is invalid for the given card type. Visa and Mastercard, generally require a 3 digit code where as American Express require 4 digits.</td>
</tr>
<tr>
<td><code>C027</code></td>
<td>Card has expired</td>
<td>The card is recognised as being expired.</td>
</tr>
<tr>
<td><code>C028</code></td>
<td>Card holder name is mandatory</td>
<td>The card holder name is mandatory and is not supplied.</td>
</tr>
<tr>
<td><code>D001</code></td>
<td>Gateway Not Configured Error</td>
<td>The gateway is not available as there is no configuration data available.</td>
</tr>
<tr>
<td><code>D002</code></td>
<td>Gateway Configuration Error</td>
<td>The gateway is not available as there is a problem with the configuration.</td>
</tr>
<tr>
<td><code>D003</code></td>
<td>Fraud Module Configuration Error</td>
<td>The fraud module is not available as there is a problem with the configuration.</td>
</tr>
<tr>
<td><code>D004</code></td>
<td>Class Instantiation Error</td>
<td>An internal gatway problem.</td>
</tr>
<tr>
<td><code>D005</code></td>
<td>Class Illegal Access Error</td>
<td>An internal gateway problem.</td>
</tr>
<tr>
<td><code>D006</code></td>
<td>Unkown Terminal</td>
<td>The terminal configuration information is invalid.</td>
</tr>
<tr>
<td><code>D007</code></td>
<td>Unauthorised to use this Terminal</td>
<td>The user is not authorised to use this terminal.</td>
</tr>
<tr>
<td><code>D008</code></td>
<td>Terminal Inactive</td>
<td>The terminal being used is currently inactive.</td>
</tr>
<tr>
<td><code>D009</code></td>
<td>Password Invalid</td>
<td>The password being used is invalid.</td>
</tr>
<tr>
<td><code>D010</code></td>
<td>User Invalid</td>
<td>The user is invalid.</td>
</tr>
<tr>
<td><code>D011</code></td>
<td>User does not have permission to perform this operation</td>
<td>User does not have permission to perform this operation</td>
</tr>
<tr>
<td><code>D012</code></td>
<td>Hostile card list is not available</td>
<td>The system cannot retrieve details from the hostile card list</td>
</tr>
<tr>
<td><code>D013</code></td>
<td>Merchant is not found</td>
<td>The merchant number is invalid</td>
</tr>
<tr>
<td><code>D014</code></td>
<td>Card holder must be present</td>
<td>The card holder must be present for this transaction</td>
</tr>
<tr>
<td><code>D015</code></td>
<td>Invalid Currency Code</td>
<td>The currency code provided is not a valid currency code</td>
</tr>
<tr>
<td><code>D016</code></td>
<td>Card type or currency for merchant not found</td>
<td>The card bin range or currency code is not valid for the given merchant.</td>
</tr>
<tr>
<td><code>D017</code></td>
<td>Cardholder must be present</td>
<td>The cardholder must be pressent for this transaction.</td>
</tr>
<tr>
<td><code>D018</code></td>
<td>Card must be present</td>
<td>The card must be pressent for this transaction.</td>
</tr>
<tr>
<td><code>D019</code></td>
<td>Manual entry not allowed for this merchant</td>
<td>The merchant is not allowed to perform a manual entry.</td>
</tr>
<tr>
<td><code>D020</code></td>
<td>Invalid Transaction Type</td>
<td>The transaction type requested is invalid.</td>
</tr>
<tr>
<td><code>D021</code></td>
<td>Transaction not allowed for card</td>
<td>The transaction is not allowed for the given card.</td>
</tr>
<tr>
<td><code>D022</code></td>
<td>Transaction not found for merchant with given trasaction number</td>
<td>A transaction cannot be found for the merchant using the given transaction number.</td>
</tr>
<tr>
<td><code>D023</code></td>
<td>Transaction not found for merchant with given identifier</td>
<td>A transaction cannot be found for the merchant using the given identifier.</td>
</tr>
<tr>
<td><code>D024</code></td>
<td>Decryption currently unavailable</td>
<td>The crypto server cannot be contacted for decryption, decryption requests are unavailable.</td>
</tr>
<tr>
<td><code>D025</code></td>
<td>Encryption currently unavailable</td>
<td>The crypto server cannot be contacted for encryption, encryption requests are unavailable.</td>
</tr>
<tr>
<td><code>D026</code></td>
<td>No batch id presented</td>
<td>A batch id was required to perform the action and was not preset.</td>
</tr>
<tr>
<td><code>D027</code></td>
<td>No client id presented</td>
<td>A client id was required to perform the action and was not preset.</td>
</tr>
<tr>
<td><code>D028</code></td>
<td>None ASCII characters found in data</td>
<td>none ASCII encoded data was found when the data is restricted to the ASCII type.</td>
</tr>
<tr>
<td><code>D029</code></td>
<td>Invalid Encoding Error</td>
<td>The data contains an invalid encoding that is not allowed for the resource.</td>
</tr>
<tr>
<td><code>D030</code></td>
<td>Batch does not contain transactions</td>
<td>The batch presented for processing does not contain any transactions.</td>
</tr>
<tr>
<td><code>D031</code></td>
<td>Store is not found</td>
<td>The store id is invalid</td>
</tr>
<tr>
<td><code>D032</code></td>
<td>Store is inactive</td>
<td>The store defined by the store id is inactive</td>
</tr>
<tr>
<td><code>D033</code></td>
<td>Field value is an invalid signed integer value</td>
<td>The maximum integer value is 0x7fffffff. The provided value is too large</td>
</tr>
<tr>
<td><code>D034</code></td>
<td>Field value is an invalid signed long value</td>
<td>The maximum integer value is 0x7fffffffffffffff. The provided value is too large</td>
</tr>
<tr>
<td><code>D035</code></td>
<td>Field value is an invalid signed short value</td>
<td>The maximum integer value is 32767. The provided value is too large</td>
</tr>
<tr>
<td><code>D036</code></td>
<td>The Card Scheme could not be determined</td>
<td>Check the card pan to confirm that the pan number is correct and that the bin range entry for this card is available</td>
</tr>
<tr>
<td><code>D037</code></td>
<td>Acquirer is unavailable</td>
<td>The acquirer for this request is currently unavailable</td>
</tr>
<tr>
<td><code>D038</code></td>
<td>Gateway route is unavailable</td>
<td>The gateway route for this transaction is currently unavailable. This may be caused by a configuration change, technical fault or planned works</td>
</tr>
<tr>
<td><code>D039</code></td>
<td>No Terminal ID available</td>
<td>A terminal id is required to process a transaction. Dependant on the acquirer this may be due to a limitation of concurrency in processing against the number of allocation terminal IDs to the account.</td>
</tr>
<tr>
<td><code>D040</code></td>
<td>Acquirer Dataset is not found for transaction</td>
<td>No acquirer dataset is configured to handle this tranaction</td>
</tr>
<tr>
<td><code>D041</code></td>
<td>3DSecure Currently Unavailable</td>
<td>The ecommerce transaction requires 3DSecure for processing and the Merchant Plug In is currently unavailable. Please retry later</td>
</tr>
<tr>
<td><code>D042</code></td>
<td>3DSecure Enrollment Error</td>
<td>The account is not enrolled fully for 3DSecure</td>
</tr>
<tr>
<td><code>D043</code></td>
<td>3DSecure Configuration Error</td>
<td>The account contains invalid or no configuration information which prevented a 3DSecure session from continuing</td>
</tr>
<tr>
<td><code>D044</code></td>
<td>3DSecure Merchant URI Invalid</td>
<td>The Merchant URI is either blank or invalid for 3DSecure authentication</td>
</tr>
<tr>
<td><code>D045</code></td>
<td>3DSecure Accept Headers Invalid</td>
<td>The Accept Headers is either blank or invalid for 3DSecure authentication</td>
</tr>
<tr>
<td><code>D046</code></td>
<td>3DSecure User Agent Invalid</td>
<td>The User Agent is either blank or invalid for 3DSecure authentication</td>
</tr>
<tr>
<td><code>D047</code></td>
<td>3DSecure Directory Server Comms Failure</td>
<td>A communication failure was realised while contacting the 3dsecure directory server</td>
</tr>
<tr>
<td><code>F001</code></td>
<td>Unknown Error</td>
<td></td>
</tr>
<tr>
<td><code>F002</code></td>
<td>Data Error</td>
<td></td>
</tr>
<tr>
<td><code>F003</code></td>
<td>System Error</td>
<td></td>
</tr>
<tr>
<td><code>F004</code></td>
<td>Null error occurred</td>
<td></td>
</tr>
<tr>
<td><code>F005</code></td>
<td>Unknown Transaction Type</td>
<td></td>
</tr>
<tr>
<td><code>F006</code></td>
<td>Communication Error</td>
<td></td>
</tr>
<tr>
<td><code>F007</code></td>
<td>TID Allocation Timeout</td>
<td></td>
</tr>
<tr>
<td><code>P001</code></td>
<td>Response type not set</td>
<td></td>
</tr>
<tr>
<td><code>P002</code></td>
<td>Merchant ID Not Supplied</td>
<td></td>
</tr>
<tr>
<td><code>P003</code></td>
<td>Merchant ID Is Invalid</td>
<td></td>
</tr>
<tr>
<td><code>P004</code></td>
<td>Amount is not supplied</td>
<td></td>
</tr>
<tr>
<td><code>P005</code></td>
<td>Amount is invalid</td>
<td>The transaction amount sent in the transaction request is invalid because it is too long or contains characters other than digits.</td>
</tr>
<tr>
<td><code>P006</code></td>
<td>Amount is not supplied in the lowest denomination</td>
<td></td>
</tr>
<tr>
<td><code>P007</code></td>
<td>The request is not from an accepted source</td>
<td></td>
</tr>
<tr>
<td><code>P008</code></td>
<td>The referal source is unknown</td>
<td>This error occurs when the system cannot identify the source of the request (IP or HTTP Header).</td>
</tr>
<tr>
<td><code>P009</code></td>
<td>AVS Postcode is not supplied</td>
<td></td>
</tr>
<tr>
<td><code>P010</code></td>
<td>AVS Postcode greater than 8 characters</td>
<td>The AVS value contains too many numeric values</td>
</tr>
<tr>
<td><code>P011</code></td>
<td>AVS Address is not supplied</td>
<td></td>
</tr>
<tr>
<td><code>P012</code></td>
<td>AVS Address greater than 8 characters</td>
<td>The AVS value contains too many numeric values</td>
</tr>
<tr>
<td><code>P013</code></td>
<td>Transaction Id or Identifier not Present</td>
<td></td>
</tr>
<tr>
<td><code>P014</code></td>
<td>Transaction Id not Numeric</td>
<td>The transaction ID should be a numeric value</td>
</tr>
<tr>
<td><code>P015</code></td>
<td>Ceiling Limit Exceeded</td>
<td>The transaction amount for this transaction request is above the ceiling limit for the relevant Merchant.</td>
</tr>
<tr>
<td><code>P016</code></td>
<td>Identifier is greater than 50 characters</td>
<td>The identifier must be an alphanumeric value up to 50 characters in length</td>
</tr>
<tr>
<td><code>P017</code></td>
<td>LicenceKey is greater than 255 characters</td>
<td>The licencekey value must be an alphanumeric value up to 255 characters in length</td>
</tr>
<tr>
<td><code>P018</code></td>
<td>Invalid transaction type</td>
<td>The transaction type is not allowed for this merchant</td>
</tr>
<tr>
<td><code>P019</code></td>
<td>Validation Code Error</td>
<td>The request failed the validation code test and is deemed to be an insecure request</td>
</tr>
<tr>
<td><code>P020</code></td>
<td>Cashback amount is invalid</td>
<td>The cash amount sent in the transaction request is invalid because it is too long or contains characters other than digits.</td>
</tr>
<tr>
<td><code>P021</code></td>
<td>Cashback transaction not permitted</td>
<td>Transaction requested cashback and the Merchant does not allow cashback transactions for the credit/debit card tendered.</td>
</tr>
<tr>
<td><code>P022</code></td>
<td>Cashback ceiling limit exceeded</td>
<td>The cash amount for this transaction request is above the ceiling limit for the relevant MerchantID.</td>
</tr>
<tr>
<td><code>P023</code></td>
<td>Invalid transaction type code</td>
<td>The transaction request does not have a valid Transaction Type code.</td>
</tr>
<tr>
<td><code>P024</code></td>
<td>Void Transaction failed, invalid orginal transaction</td>
<td>The request for a void transaction failed due to the original transaction not being valid.</td>
</tr>
<tr>
<td><code>P025</code></td>
<td>Void Transaction failed, no valid original authcode</td>
<td>The request for a void transaction failed due to the original transaction not hvaing a valid authorisation code.</td>
</tr>
<tr>
<td><code>P026</code></td>
<td>Identifier is not supplied</td>
<td>The transaction identifier was not supplied by the merchant.</td>
</tr>
<tr>
<td><code>P027</code></td>
<td>Email address is not supplied</td>
<td>The email address is required and was not supplied by the merchant.</td>
</tr>
<tr>
<td><code>P028</code></td>
<td>Product information is not supplied</td>
<td>Product Information is required for this transaction and was not supplied by the merchant.</td>
</tr>
<tr>
<td><code>P029</code></td>
<td>Authorisation key is not supplied</td>
<td>An authorisation key is required for this request and was not supplied</td>
</tr>
<tr>
<td><code>P030</code></td>
<td>Authorisation invalid</td>
<td></td>
</tr>
<tr>
<td><code>P031</code></td>
<td>Unsupported transaction type</td>
<td>The transaction type requested is not supported by the gateway.</td>
</tr>
<tr>
<td><code>P032</code></td>
<td>Transaction type not available for processing</td>
<td>The transaction type is not configured for the merchant.</td>
</tr>
<tr>
<td><code>P033</code></td>
<td>Card scheme not available for processing</td>
<td>The card scheme is not configured for the merchant.</td>
</tr>
<tr>
<td><code>P034</code></td>
<td>Invalid Currency</td>
<td>The currency specified is invalid.</td>
</tr>
<tr>
<td><code>P035</code></td>
<td>Licence key is not supplied</td>
<td>The Licence key is required for processing and was not supplied.</td>
</tr>
<tr>
<td><code>P036</code></td>
<td>Licence key does not match</td>
<td>The Licence key was supplied but did not match the key required for processing.</td>
</tr>
<tr>
<td><code>P037</code></td>
<td>Licence key invalid</td>
<td>The Licence key was supplied and was not a valid key.</td>
</tr>
<tr>
<td><code>P038</code></td>
<td>Floor limit not reached</td>
<td>The floor limit was not reached for processing the transaction.</td>
</tr>
<tr>
<td><code>P039</code></td>
<td>Identifier is less than 4 characters</td>
<td>The identifier must be an alphanumeric value greater than 4 characters in length</td>
</tr>
<tr>
<td><code>P040</code></td>
<td>Account Number Not Supplied</td>
<td>A card holder account number was not supplied and therefore the transaction cannot continue</td>
</tr>
<tr>
<td><code>P041</code></td>
<td>Account Number is an invalid length</td>
<td>A card holder account number is an invalid length</td>
</tr>
<tr>
<td><code>P042</code></td>
<td>Account Number contains invalid characters</td>
<td>A card holder account number contains non ascii characters or contains spaces surrounding the value</td>
</tr>
<tr>
<td><code>P043</code></td>
<td>Account Number not found</td>
<td>A card holder account was not found for the given request. Please check the account number and/or password is correct</td>
</tr>
<tr>
<td><code>P044</code></td>
<td>Field not provided</td>
<td>The given field was not provided and is required. Please check the documentation provided with your installation instructions.</td>
</tr>
<tr>
<td><code>P045</code></td>
<td>Field value invalid</td>
<td>The given field value is invalid. Please check the documentation provided with your installation instructions.</td>
</tr>
<tr>
<td><code>P046</code></td>
<td>Cart Invalid Mode</td>
<td>The given cart mode is not valid</td>
</tr>
<tr>
<td><code>P047</code></td>
<td>Cart Contains No Items</td>
<td>The cart items are required for the cart mode and contains no items</td>
</tr>
<tr>
<td><code>P048</code></td>
<td>Cart Amount Invalid</td>
<td>The amounts in the cart are not valid, please ensure each amount is &gt; 0</td>
</tr>
<tr>
<td><code>P049</code></td>
<td>Account is Not Active</td>
<td>The card holder account is not active and cannot be used used.</td>
</tr>
<tr>
<td><code>P050</code></td>
<td>Account has not been verified</td>
<td>The card holder account has not yet been verified. Please verify before using the account.</td>
</tr>
<tr>
<td><code>R001</code></td>
<td>Could not identify the original transaction</td>
<td></td>
</tr>
<tr>
<td><code>R002</code></td>
<td>Transaction Exceeds original value</td>
<td></td>
</tr>
<tr>
<td><code>R003</code></td>
<td>Transaction has already been refunded</td>
<td></td>
</tr>
<tr>
<td><code>R004</code></td>
<td>Error retrieving original amount</td>
<td></td>
</tr>
<tr>
<td><code>R005</code></td>
<td>The amount to refund exceeds the amount available to refund</td>
<td></td>
</tr>
<tr>
<td><code>R006</code></td>
<td>Refund not permitted for MerchantID</td>
<td>Transaction requested a refund and the Merchant does not allow refunds on the credit/debit card tendered.</td>
</tr>
<tr>
<td><code>R007</code></td>
<td>Transaction number is not a valid number</td>
<td>The transaction number provided is invalid for the request and must be a valid integer.</td>
</tr>
<tr>
<td><code>R008</code></td>
<td>Refund Security Code invalid</td>
<td>The refund security code was provided but did not match the required security code for the provided merchant id</td>
</tr>
<tr>
<td><code>R009</code></td>
<td>Refund Security Code Not Provided</td>
<td>The refund security code was not provided and is required to perform a refund.</td>
</tr>
<tr>
<td><code>R010</code></td>
<td>Original transaction is not a valid purchase</td>
<td>The transaction cannot be refunded because the original transaction is not a valid purchase.</td>
</tr>
<tr>
<td><code>R011</code></td>
<td>Original transaction was not accepted</td>
<td>The transaction cannot be refunded because the original transaction was not accepted.</td>
</tr>
<tr>
<td><code>S001</code></td>
<td>Invalid Client ID</td>
<td>The client id provided is invalid</td>
</tr>
<tr>
<td><code>S002</code></td>
<td>Invalid Merchant ID</td>
<td>The merchant id provided is invalid</td>
</tr>
<tr>
<td><code>S003</code></td>
<td>Invalid Merchant and Client ID Combination</td>
<td>Either the merchant id or client id provided is invalid for this request</td>
</tr>
<tr>
<td><code>S004</code></td>
<td>General Authentication Failure</td>
<td>The authentication failed for the requested service.</td>
</tr>
<tr>
<td><code>S005</code></td>
<td>Not Authorised</td>
<td>You are not authorised to perform the operation</td>
</tr>
<tr>
<td><code>S006</code></td>
<td>Not Licenced</td>
<td>You are not licenced to perform this operation</td>
</tr>
<tr>
<td><code>S007</code></td>
<td>Authentication Required</td>
<td>Authentication is required to perform this operation and no authentication was presented for authorisation.</td>
</tr>
<tr>
<td><code>S008</code></td>
<td>Invalid Licence Key</td>
<td>The given licence key is invalid.</td>
</tr>
<tr>
<td><code>T001</code></td>
<td>Duplicate Transaction Error</td>
<td>A transaction with the same transaction reference and card details has been provided</td>
</tr>
<tr>
<td><code>T002</code></td>
<td>Transaction exceeds required level</td>
<td></td>
</tr>
<tr>
<td><code>T003</code></td>
<td>Transaction is not a valid capture</td>
<td>An invalid capture request was requested.</td>
</tr>
<tr>
<td><code>T004</code></td>
<td>Transaction is not a valid reversal</td>
<td>An invalid reversal request was requested.</td>
</tr>
<tr>
<td><code>T005</code></td>
<td>3D Secure Authentication Error</td>
<td>Caused when the PARes fails digital signature validation.</td>
</tr>
<tr>
<td><code>T006</code></td>
<td>3D Secure Authentication Required</td>
<td>A transaction is required to be fully authorised using 3d secure by returning a valid CAVV and AuthenticationResult=Y</td>
</tr>
<tr>
<td><code>T007</code></td>
<td>Pre-Auth not available for card scheme</td>
<td>Caused when the card scheme is not able to perform pre-authorisation requests.</td>
</tr>
<tr>
<td><code>T008</code></td>
<td>Pre-Auth not available for Acquirer</td>
<td>Caused when the Acquirer is not able to perform pre-authorisation requests.</td>
</tr>
<tr>
<td><code>T009</code></td>
<td>Transaction already cancelled</td>
<td>Caused when the transaction has already been cancelled</td>
</tr>
<tr>
<td><code>T010</code></td>
<td>Cannot cancel pre-auth transaction</td>
<td>Caused when the transaction is not available to be cancelled</td>
</tr>
<tr>
<td><code>T011</code></td>
<td>Transaction already completed</td>
<td>Caused when the transaction has already been completed</td>
</tr>
<tr>
<td><code>T012</code></td>
<td>Cannot complete pre-auth transaction</td>
<td>Caused when the transaction is not available to be completed</td>
</tr>
<tr>
<td><code>T013</code></td>
<td>Transaction was not authorised</td>
<td>A post authoriation action has found that the original transaction was not authorised and therefore the action cannot be completed</td>
</tr>
<tr>
<td><code>W001</code></td>
<td>Tokens amount not present</td>
<td></td>
</tr>
<tr>
<td><code>W002</code></td>
<td>Tokens Amount Not an Integer</td>
<td></td>
</tr>
<tr>
<td><code>W003</code></td>
<td>Email Address Not Supplied</td>
<td></td>
</tr>
<tr>
<td><code>W004</code></td>
<td>PostCode/ZipCode Not Supplied</td>
<td></td>
</tr>
<tr>
<td><code>W005</code></td>
<td>Country Not Present</td>
<td></td>
</tr>
<tr>
<td><code>W006</code></td>
<td>Town/City Not Present</td>
<td></td>
</tr>
<tr>
<td><code>W007</code></td>
<td>First Address Line Not Supplied</td>
<td></td>
</tr>
<tr>
<td><code>W008</code></td>
<td>Last Name Not Supplied</td>
<td></td>
</tr>
<tr>
<td><code>W009</code></td>
<td>First Name Not Supplied</td>
<td></td>
</tr>
<tr>
<td><code>W010</code></td>
<td>Password not supplied</td>
<td></td>
</tr>
<tr>
<td><code>W011</code></td>
<td>Password Must be at least 8 chars</td>
<td></td>
</tr>
<tr>
<td><code>W012</code></td>
<td>An error occurred creating the account</td>
<td></td>
</tr>
<tr>
<td><code>W013</code></td>
<td>Could not find a wallet from the given criteria</td>
<td></td>
</tr>
<tr>
<td><code>W014</code></td>
<td>An error occurred obtaining the wallet</td>
<td></td>
</tr>
<tr>
<td><code>W015</code></td>
<td>Wallet is de-activated</td>
<td></td>
</tr>
<tr>
<td><code>W016</code></td>
<td>Password contains illegal characters</td>
<td>The password can only contain alphanumeric characters with no spaces</td>
</tr>
<tr>
<td><code>W017</code></td>
<td>Ceiling Limit Exceeded</td>
<td></td>
</tr>
<tr>
<td><code>W018</code></td>
<td>Error purchasing tokens</td>
<td></td>
</tr>
<tr>
<td><code>W019</code></td>
<td>Error redeeming tokens</td>
<td></td>
</tr>
<tr>
<td><code>W020</code></td>
<td>Redirect address is invalid</td>
<td></td>
</tr>
<tr>
<td><code>W021</code></td>
<td>Merchant ID is invalid</td>
<td></td>
</tr>
<tr>
<td><code>W022</code></td>
<td>Merchant ID is not supplied</td>
<td></td>
</tr>
<tr>
<td><code>W023</code></td>
<td>Request was from an invalid source</td>
<td></td>
</tr>
<tr>
<td><code>W024</code></td>
<td>Terms and conditions were not agreed to</td>
<td>The customer failed to check the terms and conditions checkbox.</td>
</tr>
<tr>
<td><code>W025</code></td>
<td>Floor limit not reached</td>
<td>The amount is not greater than the floor limit set for your account.</td>
</tr>
</tbody></table>
<h2 id='auth-result-codes'>Auth Result Codes</h2>
<p>The CityPay Payment API uses the following authorisation result codes in its response messages:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
</tr>
</thead><tbody>
<tr>
<td><code>0</code></td>
<td>Declined</td>
</tr>
<tr>
<td><code>1</code></td>
<td>Accepted</td>
</tr>
<tr>
<td><code>2</code></td>
<td>Rejected</td>
</tr>
<tr>
<td><code>3</code></td>
<td>NotAttempted</td>
</tr>
<tr>
<td><code>4</code></td>
<td>Referred</td>
</tr>
<tr>
<td><code>5</code></td>
<td>PinRetry</td>
</tr>
<tr>
<td><code>6</code></td>
<td>ForceSigVerify</td>
</tr>
<tr>
<td><code>7</code></td>
<td>Hold</td>
</tr>
<tr>
<td><code>8</code></td>
<td>SecurityError</td>
</tr>
<tr>
<td><code>9</code></td>
<td>CallAcquirer</td>
</tr>
<tr>
<td><code>10</code></td>
<td>DoNotHonour</td>
</tr>
<tr>
<td><code>11</code></td>
<td>RetainCard</td>
</tr>
<tr>
<td><code>12</code></td>
<td>ExpiredCard</td>
</tr>
<tr>
<td><code>13</code></td>
<td>InvalidCardNo</td>
</tr>
<tr>
<td><code>14</code></td>
<td>PinTriesExceeded</td>
</tr>
<tr>
<td><code>15</code></td>
<td>PinInvalid</td>
</tr>
<tr>
<td><code>16</code></td>
<td>AuthReq</td>
</tr>
<tr>
<td><code>17</code></td>
<td>AuthFail</td>
</tr>
<tr>
<td><code>18</code></td>
<td>Verified</td>
</tr>
<tr>
<td><code>19</code></td>
<td>Cancelled</td>
</tr>
<tr>
<td><code>20</code></td>
<td>Unknown</td>
</tr>
</tbody></table>
<h2 id='avs-result-codes'>AVS Result Codes</h2>
<p>The CityPay Payment API uses the following AVS result codes in its response messages:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>Z</code></td>
<td>5 digit post code matches, Address does not</td>
</tr>
<tr>
<td><code>Y</code></td>
<td>Address and 5 digit post code match</td>
</tr>
<tr>
<td><code>X</code></td>
<td>Postcode and address match</td>
</tr>
<tr>
<td><code>W</code></td>
<td>9 digit post code matches, Address does not</td>
</tr>
<tr>
<td><code>U</code></td>
<td>No AVS data available from issuer auth system</td>
</tr>
<tr>
<td><code>S</code></td>
<td>AVS Service not supported by issuer or processor</td>
</tr>
<tr>
<td><code>R</code></td>
<td>Retry, System unavailble or Timed Out</td>
</tr>
<tr>
<td><code>P</code></td>
<td>Postal codes match. Street address not verified due to to incompatible formats</td>
</tr>
<tr>
<td><code>N</code></td>
<td>Neither postcode nor address match</td>
</tr>
<tr>
<td><code>M</code></td>
<td>Street address and Postal codes match for international transaction</td>
</tr>
<tr>
<td><code>I</code></td>
<td>Address information verified for international transaction</td>
</tr>
<tr>
<td><code>G</code></td>
<td>Issuer does not participate in AVS</td>
</tr>
<tr>
<td><code>E</code></td>
<td>AVS Error</td>
</tr>
<tr>
<td><code>D</code></td>
<td>Street address and postal codes match</td>
</tr>
<tr>
<td><code>C</code></td>
<td>Street address and Postal code not verified due to incompatible formats</td>
</tr>
<tr>
<td><code>B</code></td>
<td>Postal code not verified due to incompatible formats</td>
</tr>
<tr>
<td><code>A</code></td>
<td>Addres matches, post code does not</td>
</tr>
<tr>
<td><code></code></td>
<td>No information</td>
</tr>
</tbody></table>
<h2 id='csc-result-codes'>CSC Result Codes</h2>
<p>The CityPay Payment API uses the following CSC result codes in its response messages:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>U</code></td>
<td>The card issuer is not certified</td>
</tr>
<tr>
<td><code>S</code></td>
<td>The card verification data should be on the card but the merchant indicates that it is not</td>
</tr>
<tr>
<td><code>P</code></td>
<td>Card verification was not processed</td>
</tr>
<tr>
<td><code>N</code></td>
<td>Card verification data was checked but did not match</td>
</tr>
<tr>
<td><code>M</code></td>
<td>Card verification data matches</td>
</tr>
<tr>
<td><code></code></td>
<td>No information</td>
</tr>
</tbody></table>
<h2 id='enabled-tls-ciphers'>Enabled TLS Ciphers</h2>
<p>This API supports the following negotiated ciphers. Most modern HTTP clients will negotiate these ciphers with no additional requirements.</p>

<table><thead>
<tr>
<th>Priority</th>
<th>Cipher</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>ECDHE-ECDSA-AES128-GCM-SHA256</td>
</tr>
<tr>
<td>2</td>
<td>ECDHE-RSA-AES128-GCM-SHA256</td>
</tr>
<tr>
<td>3</td>
<td>ECDHE-ECDSA-AES128-SHA256</td>
</tr>
<tr>
<td>4</td>
<td>ECDHE-RSA-AES128-SHA256</td>
</tr>
<tr>
<td>5</td>
<td>ECDHE-ECDSA-AES128-SHA</td>
</tr>
<tr>
<td>6</td>
<td>ECDHE-RSA-AES128-SHA</td>
</tr>
<tr>
<td>7</td>
<td>ECDHE-ECDSA-AES256-GCM-SHA384</td>
</tr>
<tr>
<td>8</td>
<td>ECDHE-RSA-AES256-GCM-SHA384</td>
</tr>
<tr>
<td>9</td>
<td>ECDHE-ECDSA-AES256-SHA384</td>
</tr>
<tr>
<td>10</td>
<td>ECDHE-RSA-AES256-SHA384</td>
</tr>
<tr>
<td>11</td>
<td>ECDHE-RSA-AES256-SHA</td>
</tr>
<tr>
<td>12</td>
<td>ECDHE-ECDSA-AES256-SHA</td>
</tr>
</tbody></table>
<h2 id='timeout-handling'>Timeout Handling</h2>
<p>Payment processing with CityPay is ordinarily relatively fast with a response of 200ms - 2000ms. Due to the complexity
of third party processing, transactions occasionally may take longer than usual. We therefore recommended that you
set your time out settings to a relatively long period such as 120 seconds.</p>

<p>Whilst we do not say that a transaction will take this long, it ensures that your connected socket wil not drop the
connection before a response is returned. Should your socket close before the transaction is completed and timeout settings on our side are not yet activated, a transaction may still process and settle without your systems obtaining a response.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="xml">xml</a>
          </div>
      </div>
    </div>
  </body>
</html>